<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‚æ•°è®¾ç½® - é‡‘åç†å·¥ç‰©è”ç½‘å¹³å°</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="brand">
                <div class="brand-logo"></div>
                <div class="brand-text">ç‰©è”ç½‘å¹³å°</div>
            </div>
            <nav class="nav-menu">
                <div class="nav-group-title">è®¾å¤‡ç©ºé—´ç®¡ç†</div>
                <a href="101_åŸºç¡€è®¾å¤‡ç›®å½•ç®¡ç†.html" class="nav-item">
                    <span>ğŸ“š</span> åŸºç¡€ç›®å½•
                </a>
                <a href="101_æ ‡ç­¾ç®¡ç†.html" class="nav-item">
                    <span>ğŸ·ï¸</span> æ ‡ç­¾ç®¡ç†
                </a>
                <a href="101_åœ°å›¾å¹¿åœº.html" class="nav-item">
                    <span>ğŸ—ºï¸</span> åœ°å›¾å¹¿åœº
                </a>
                <a href="101_åœ°å›¾ç®¡ç†.html" class="nav-item">
                    <span>âš™ï¸</span> åœ°å›¾é…ç½®
                </a>

                <div class="nav-group-title">è®¾å¤‡æ²»ç†</div>
                <a href="102_æ²»ç†ä»»åŠ¡.html" class="nav-item">
                    <span>ğŸ“‹</span> æ²»ç†ä»»åŠ¡
                </a>
                <a href="102_æ²»ç†å‚æ•°è®¾ç½®.html" class="nav-item active">
                    <span>âš™ï¸</span> å‚æ•°è®¾ç½®
                </a>

                <div class="nav-group-title">ç‰©è”ç½‘è®¾å¤‡ç®¡ç†</div>
                <a href="103_å¹³å°è®¾å¤‡ç®¡ç†.html" class="nav-item">
                    <span>ğŸ–¥ï¸</span> å¹³å°ç®¡ç†
                </a>
                <a href="103_å¹³å°é€šé“ç®¡ç†.html" class="nav-item">
                    <span>ğŸ“¡</span> é€šé“ç®¡ç†
                </a>
                <a href="103_è®¾å¤‡åˆ†ç»„ç®¡ç†.html" class="nav-item">
                    <span>ğŸ“‚</span> è®¾å¤‡åˆ†ç»„
                </a>

                <div class="nav-group-title">è§†é¢‘æƒé™ç®¡ç†</div>
                <a href="104_ç›´æ¥å…±äº«.html" class="nav-item">
                    <span>ğŸ“±</span> ç›´æ¥å…±äº«
                </a>
                <!-- <span>ğŸ¨</span> åº”ç”¨ç¼–æ’ (Coming Soon) -->
                <a href="104_ä»£ç†å…±äº«.html" class="nav-item">
                    <span>ğŸ”—</span> ä»£ç†å…±äº«
                </a>

                <div class="nav-group-title">æƒé™å®¡æ‰¹ç®¡ç†</div>
                <a href="105_éœ€æ±‚ç™»è®°.html" class="nav-item">
                    <span>ğŸ“</span> éœ€æ±‚ç™»è®°
                </a>
                <a href="105_éœ€æ±‚å®¡æ‰¹.html" class="nav-item">
                    <span>âš–ï¸</span> éœ€æ±‚å®¡æ‰¹
                </a>
                <a href="105_æˆæƒç®¡ç†.html" class="nav-item">
                    <span>ğŸ›‘</span> æˆæƒç®¡ç†
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="main-content">
            <header class="top-bar">
                <h2 class="page-title">å‚æ•°è®¾ç½®</h2>
                <div class="user-profile">
                    <span>ç®¡ç†å‘˜</span>
                    <div class="avatar"></div>
                </div>
            </header>

            <div class="content-area">
                <div class="glass-panel">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>åºå·</th>
                                <th>å‚æ•°åç§°</th>
                                <th>å‚æ•°é”®å</th>
                                <th>æšä¸¾å€¼</th>
                                <th>æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>åœºæ‰€ç±»å‹</td>
                                <td>place_type</td>
                                <td>æ•™å­¦åŒºåŸŸã€å…¬å…±åŒºåŸŸã€åŠå…¬åŒºåŸŸã€å®¿èˆåŒºåŸŸ...</td>
                                <td>
                                    <button class="btn btn-secondary" style="padding: 4px 12px; font-size: 12px;"
                                        onclick="openConfigModal('åœºæ‰€ç±»å‹')">é…ç½®</button>
                                </td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>ç®¡ç†å•ä½</td>
                                <td>manage_unit</td>
                                <td>ä¿å«å¤„ã€æ•™åŠ¡å¤„ã€åå‹¤å¤„ã€å­¦ç”Ÿå¤„...</td>
                                <td>
                                    <button class="btn btn-secondary" style="padding: 4px 12px; font-size: 12px;"
                                        onclick="openConfigModal('ç®¡ç†å•ä½')">é…ç½®</button>
                                </td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>åœ°ç†åŒºåŸŸ</td>
                                <td>geo_area</td>
                                <td>ä¸œæ ¡åŒºã€è¥¿æ ¡åŒºã€åŒ—æ ¡åŒº...</td>
                                <td>
                                    <button class="btn btn-secondary" style="padding: 4px 12px; font-size: 12px;"
                                        onclick="openConfigModal('åœ°ç†åŒºåŸŸ')">é…ç½®</button>
                                </td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>ç›‘æ§æ–¹å‘</td>
                                <td>monitor_direction</td>
                                <td>ä¸œã€å—ã€è¥¿ã€åŒ—ã€ä¸»è¦å‡ºå…¥å£...</td>
                                <td>
                                    <button class="btn btn-secondary" style="padding: 4px 12px; font-size: 12px;"
                                        onclick="openConfigModal('ç›‘æ§æ–¹å‘')">é…ç½®</button>
                                </td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>å®¤å†…å¤–</td>
                                <td>indoor_outdoor</td>
                                <td>å®¤å†…ã€å®¤å¤–</td>
                                <td>
                                    <button class="btn btn-secondary" style="padding: 4px 12px; font-size: 12px;"
                                        onclick="openConfigModal('å®¤å†…å¤–')">é…ç½®</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Configuration Modal -->
    <div class="modal-overlay" id="configModal">
        <div class="modal-content" style="width: 500px;">
            <div class="modal-header">
                <h3 class="modal-title" id="configTitle">é…ç½®å‚æ•° - åœºæ‰€ç±»å‹</h3>
                <button class="modal-close" onclick="closeConfigModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="input-label" style="margin-bottom: 12px;">æšä¸¾å€¼åˆ—è¡¨ (æœ€å¤š20ä¸ª)</div>
                <div id="enumList" style="max-height: 300px; overflow-y: auto;">
                    <!-- Enum Items -->
                </div>
                <button class="btn btn-secondary" style="width: 100%; margin-top: 12px; border-style: dashed;"
                    onclick="addEnumItem()">+ æ–°å¢æšä¸¾å€¼</button>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeConfigModal()">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="saveConfig()">ä¿å­˜é…ç½®</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Initial data for demo
        const demoData = {
            'åœºæ‰€ç±»å‹': ['æ•™å­¦åŒºåŸŸ', 'å…¬å…±åŒºåŸŸ', 'åŠå…¬åŒºåŸŸ', 'å®¿èˆåŒºåŸŸ'],
            'ç®¡ç†å•ä½': ['ä¿å«å¤„', 'æ•™åŠ¡å¤„', 'åå‹¤å¤„'],
            // ...
        }

        function openConfigModal(title) {
            document.getElementById('configTitle').innerText = 'é…ç½®å‚æ•° - ' + title;
            const container = document.getElementById('enumList');
            container.innerHTML = '';

            const values = demoData[title] || ['é»˜è®¤å€¼1', 'é»˜è®¤å€¼2'];
            values.forEach(val => addEnumItem(val));

            document.getElementById('configModal').classList.add('active');
        }

        function closeConfigModal() {
            document.getElementById('configModal').classList.remove('active');
        }

        function addEnumItem(value = '') {
            const container = document.getElementById('enumList');
            const div = document.createElement('div');
            div.className = 'input-group';
            div.style.marginBottom = '8px';
            div.style.display = 'flex';
            div.style.gap = '8px';

            div.innerHTML = `
                <input type="text" class="glass-input" value="${value}" placeholder="è¯·è¾“å…¥æšä¸¾å€¼">
                <button class="btn btn-secondary" style="color: var(--danger); border-color: var(--danger); padding: 0 10px;" onclick="removeEnumItem(this)">åˆ é™¤</button>
            `;
            container.appendChild(div);
        }

        function removeEnumItem(btn) {
            const container = document.getElementById('enumList');
            if (container.children.length <= 1) {
                showToast('è‡³å°‘ä¿ç•™ä¸€ä¸ªæšä¸¾å€¼', 'warning');
                return;
            }
            btn.parentElement.remove();
        }

        function saveConfig() {
            // Validate duplicates
            const inputs = document.querySelectorAll('#enumList input');
            const values = new Set();
            for (let input of inputs) {
                if (values.has(input.value)) {
                    showToast('æšä¸¾å€¼ä¸å¯é‡å¤', 'error');
                    return;
                }
                values.add(input.value);
            }

            closeConfigModal();
            showToast('å‚æ•°é…ç½®ä¿å­˜æˆåŠŸ', 'success');
        }
    </script>
</body>

</html>