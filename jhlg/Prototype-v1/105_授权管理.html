<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆæƒç®¡ç† - é‡‘åç†å·¥ç‰©è”ç½‘å¹³å°</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="brand">
                <div class="brand-logo"></div>
                <div class="brand-text">ç‰©è”ç½‘å¹³å°</div>
            </div>
            <nav class="nav-menu">
                <div class="nav-group-title">è®¾å¤‡ç©ºé—´ç®¡ç†</div>
                <a href="101_åŸºç¡€è®¾å¤‡ç›®å½•ç®¡ç†.html" class="nav-item">
                    <span>ğŸ“š</span> åŸºç¡€ç›®å½•
                </a>
                <a href="101_æ ‡ç­¾ç®¡ç†.html" class="nav-item">
                    <span>ğŸ·ï¸</span> æ ‡ç­¾ç®¡ç†
                </a>
                <a href="101_åœ°å›¾å¹¿åœº.html" class="nav-item">
                    <span>ğŸ—ºï¸</span> åœ°å›¾å¹¿åœº
                </a>
                <a href="101_åœ°å›¾ç®¡ç†.html" class="nav-item">
                    <span>âš™ï¸</span> åœ°å›¾é…ç½®
                </a>

                <div class="nav-group-title">è®¾å¤‡æ²»ç†</div>
                <a href="102_æ²»ç†ä»»åŠ¡.html" class="nav-item">
                    <span>ğŸ“‹</span> æ²»ç†ä»»åŠ¡
                </a>
                <a href="102_æ²»ç†å‚æ•°è®¾ç½®.html" class="nav-item">
                    <span>âš™ï¸</span> å‚æ•°è®¾ç½®
                </a>

                <div class="nav-group-title">ç‰©è”ç½‘è®¾å¤‡ç®¡ç†</div>
                <a href="103_å¹³å°è®¾å¤‡ç®¡ç†.html" class="nav-item">
                    <span>ğŸ–¥ï¸</span> å¹³å°ç®¡ç†
                </a>
                <a href="103_å¹³å°é€šé“ç®¡ç†.html" class="nav-item">
                    <span>ğŸ“¡</span> é€šé“ç®¡ç†
                </a>
                <a href="103_è®¾å¤‡åˆ†ç»„ç®¡ç†.html" class="nav-item">
                    <span>ğŸ“‚</span> è®¾å¤‡åˆ†ç»„
                </a>

                <div class="nav-group-title">è§†é¢‘æƒé™ç®¡ç†</div>
                <a href="104_ç›´æ¥å…±äº«.html" class="nav-item">
                    <span>ğŸ“±</span> ç›´æ¥å…±äº«
                </a>
                <!-- <span>ğŸ¨</span> åº”ç”¨ç¼–æ’ (Coming Soon) -->
                <a href="104_ä»£ç†å…±äº«.html" class="nav-item">
                    <span>ğŸ”—</span> ä»£ç†å…±äº«
                </a>

                <div class="nav-group-title">æƒé™å®¡æ‰¹ç®¡ç†</div>
                <a href="105_éœ€æ±‚ç™»è®°.html" class="nav-item">
                    <span>ğŸ“</span> éœ€æ±‚ç™»è®°
                </a>
                <a href="105_éœ€æ±‚å®¡æ‰¹.html" class="nav-item">
                    <span>âš–ï¸</span> éœ€æ±‚å®¡æ‰¹
                </a>
                <a href="105_æˆæƒç®¡ç†.html" class="nav-item active">
                    <span>ğŸ›‘</span> æˆæƒç®¡ç†
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="main-content">
            <header class="top-bar">
                <h2 class="page-title">æˆæƒç®¡ç† (ç›‘æ§ä¸å›æ”¶)</h2>
                <div class="user-profile">
                    <span>ç®¡ç†å‘˜</span>
                    <div class="avatar"></div>
                </div>
            </header>

            <div class="content-area">
                <!-- Filter -->
                <div class="filter-bar">
                    <div style="flex: 1; min-width: 200px;">
                        <label class="input-label">åº”ç”¨åç§°</label>
                        <input type="text" class="glass-input" placeholder="è¯·è¾“å…¥åº”ç”¨åç§°">
                    </div>
                    <div style="flex: 1; min-width: 200px;">
                        <label class="input-label">æˆæƒçŠ¶æ€</label>
                        <select class="glass-input">
                            <option value="">å…¨éƒ¨</option>
                            <option value="active">ç”Ÿæ•ˆä¸­</option>
                            <option value="expired">å·²è¿‡æœŸ</option>
                            <option value="revoked">å·²æ’¤é”€</option>
                        </select>
                    </div>
                    <div style="display: flex; align-items: flex-end; gap: 8px;">
                        <button class="btn btn-primary" onclick="searchData()">æŸ¥è¯¢</button>
                    </div>
                </div>

                <!-- Authorized List -->
                <div class="glass-panel">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>æˆæƒID</th>
                                <th>è¢«æˆåº”ç”¨</th>
                                <th>æˆæƒèŒƒå›´æ‘˜è¦</th>
                                <th>ç”Ÿæ•ˆæ—¶é—´</th>
                                <th>å¤±æ•ˆæ—¶é—´</th>
                                <th>å½“å‰çŠ¶æ€</th>
                                <th>æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>AUTH-20251020005</td>
                                <td>æ¶ˆé˜²é€šé“ç›‘æµ‹</td>
                                <td>æ ‡ç­¾: è¡Œæ”¿æ¥¼ (å«10è®¾å¤‡)</td>
                                <td>2025-10-20 14:00</td>
                                <td>2026-10-20 00:00</td>
                                <td><span class="status-tag status-success">ç”Ÿæ•ˆä¸­</span></td>
                                <td>
                                    <button class="btn btn-secondary" style="padding: 4px 8px; font-size: 12px;"
                                        onclick="showDetail()">è¯¦æƒ…</button>
                                    <button class="btn btn-secondary"
                                        style="padding: 4px 8px; font-size: 12px; color: var(--danger); border-color: var(--danger);"
                                        onclick="revokeAuth(this)">æ’¤é”€</button>
                                </td>
                            </tr>
                            <tr>
                                <td>AUTH-20251015001</td>
                                <td>äººè„¸é—¨ç¦æœåŠ¡</td>
                                <td>è®¾å¤‡: æ•™å­¦æ¥¼Aæ ‹ (5)</td>
                                <td>2025-10-15 10:00</td>
                                <td>2025-10-16 10:00</td>
                                <td><span class="status-tag status-neutral"
                                        style="background: #f1f5f9; color: #64748b;">å·²è¿‡æœŸ</span></td>
                                <td>
                                    <button class="btn btn-secondary" style="padding: 4px 8px; font-size: 12px;"
                                        onclick="showDetail()">è¯¦æƒ…</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="revokeModal">
        <div class="modal-content" style="width: 450px;">
            <div class="modal-header">
                <h3 class="modal-title">æ’¤é”€æˆæƒ</h3>
                <button class="modal-close" onclick="closeRevokeModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 16px;">ç¡®å®šè¦æ”¶å› <b id="revokeAppName">[åº”ç”¨åç§°]</b> å¯¹ <b id="revokeScope">[èŒƒå›´]</b>
                    çš„è®¿é—®æƒé™å—ï¼Ÿ<br><span style="color: var(--danger); font-size: 12px;">æ­¤æ“ä½œç«‹å³ç”Ÿæ•ˆï¼Œä¸å¯æ’¤é”€ã€‚</span></p>
                <div class="input-group">
                    <label class="input-label"><span style="color:red">*</span> æ’¤é”€å¤‡æ³¨</label>
                    <textarea id="revokeReason" class="glass-input" rows="3" placeholder="è¯·è¾“å…¥æ’¤é”€åŸå› ï¼ˆå¿…å¡«ï¼‰..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeRevokeModal()">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="confirmRevoke()"
                    style="background: var(--danger); border-color: var(--danger);">ç¡®è®¤æ’¤é”€</button>
            </div>
        </div>
    </div>

    <!-- Authorization Detail Modal -->
    <div class="modal-overlay" id="authDetailModal">
        <div class="modal-content" style="width: 600px;">
            <div class="modal-header">
                <h3 class="modal-title">æˆæƒè¯¦æƒ…</h3>
                <button class="modal-close" onclick="closeAuthDetailModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="input-group" style="margin-top: 16px;">
                    <label class="input-label">å·²æˆæƒè®¾å¤‡æ¸…å• (10)</label>
                    <div
                        style="height: 150px; overflow-y: auto; background: #fff; border: 1px solid #ddd; border-radius: 4px; padding: 8px;">
                        <div style="padding: 4px; border-bottom: 1px solid #f0f0f0;">ğŸ“¹ è¡Œæ”¿æ¥¼-æ­£é—¨çƒæœº</div>
                        <div style="padding: 4px; border-bottom: 1px solid #f0f0f0;">ğŸ“¹ è¡Œæ”¿æ¥¼-å¤§å…å…¨æ™¯</div>
                        <div style="padding: 4px; border-bottom: 1px solid #f0f0f0;">ğŸ“¹ è¡Œæ”¿æ¥¼-1Fèµ°å»ŠA</div>
                        <div style="padding: 4px; border-bottom: 1px solid #f0f0f0;">ğŸ“¹ è¡Œæ”¿æ¥¼-1Fèµ°å»ŠB</div>
                        <div style="padding: 4px; border-bottom: 1px solid #f0f0f0;">ğŸ“¹ è¡Œæ”¿æ¥¼-2Fä¼šè®®å®¤</div>
                        <div style="padding: 4px; border-bottom: 1px solid #f0f0f0;">ğŸ“¹ è¡Œæ”¿æ¥¼-2Fèµ°å»Š</div>
                        <div style="padding: 4px; border-bottom: 1px solid #f0f0f0;">ğŸ“¹ è¡Œæ”¿æ¥¼-åœè½¦åœºå…¥å£</div>
                        <div style="padding: 4px; border-bottom: 1px solid #f0f0f0;">ğŸ“¹ è¡Œæ”¿æ¥¼-åœè½¦åœºå‡ºå£</div>
                        <div style="padding: 4px; border-bottom: 1px solid #f0f0f0;">ğŸ“¹ è¡Œæ”¿æ¥¼-é¡¶æ¥¼å…¨æ™¯</div>
                        <div style="padding: 4px;">ğŸ“¹ è¡Œæ”¿æ¥¼-åé—¨æªæœº</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="closeAuthDetailModal()">å…³é—­</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        function searchData() {
            showToast('æ•°æ®å·²åˆ·æ–°');
        }

        function showDetail() {
            document.getElementById('authDetailModal').classList.add('active');
        }

        function closeAuthDetailModal() {
            document.getElementById('authDetailModal').classList.remove('active');
        }

        let currentRevokeRow = null;

        function revokeAuth(btn) {
            // Find row for context (simulation)
            currentRevokeRow = btn ? btn.closest('tr') : document.querySelector('tbody tr:first-child');
            const appName = currentRevokeRow.cells[1].innerText;
            const scope = currentRevokeRow.cells[2].innerText;

            document.getElementById('revokeAppName').innerText = appName;
            document.getElementById('revokeScope').innerText = scope;
            document.getElementById('revokeReason').value = '';
            document.getElementById('revokeModal').classList.add('active');
        }

        function closeRevokeModal() {
            document.getElementById('revokeModal').classList.remove('active');
        }

        function confirmRevoke() {
            const reason = document.getElementById('revokeReason').value;
            if (!reason) {
                showToast('è¯·è¾“å…¥æ’¤é”€åŸå› ', 'error');
                return;
            }
            closeRevokeModal();
            showToast('æˆæƒå·²æ’¤é”€', 'success');

            // Simulate status change
            if (currentRevokeRow) {
                const statusTag = currentRevokeRow.querySelector('.status-tag');
                statusTag.className = 'status-tag status-neutral'; // Update to neutral/gray
                statusTag.innerText = 'å·²æ’¤é”€';
                statusTag.style.background = '#f1f5f9';
                statusTag.style.color = '#64748b';
            }
        }
    </script>
</body>

</html>